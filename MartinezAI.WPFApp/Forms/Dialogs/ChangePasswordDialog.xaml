<Window x:Class="MartinezAI.WPFApp.Forms.Dialogs.ChangePasswordDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:MartinezAI.WPFApp.Forms.Dialogs"
        xmlns:vm="clr-namespace:MartinezAI.WPFApp.ViewModels.Dialogs"
        mc:Ignorable="d"
        d:DataContext="{d:DesignInstance vm:ChangePasswordDialogViewModel, IsDesignTimeCreatable=True}"
        SizeToContent="WidthAndHeight"
        WindowStartupLocation="CenterOwner"
        WindowStyle="None"
        ResizeMode="NoResize"
        Background="{DynamicResource AppBackgroundBrush}">

    <Border Background="{DynamicResource SurfaceBrush}"
            CornerRadius="12"
            Padding="20"
            Margin="10">

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <StackPanel Grid.Row="0" Margin="0,0,0,16">
                <Label Content="New Password" 
                   Foreground="{DynamicResource SecondaryFontBrush}"
                   FontSize="14"/>
                <PasswordBox x:Name="NewPasswordBox" 
                         Background="{DynamicResource InputBackgroundBrush}" 
                         Foreground="{DynamicResource InputForegroundBrush}"
                         FontSize="16"
                         Padding="8"
                         Width="250"/>

                <Label Content="Confirm Password" 
                   Margin="0,8,0,0" 
                   Foreground="{DynamicResource SecondaryFontBrush}"
                   FontSize="14"/>
                <PasswordBox x:Name="ConfirmPasswordBox" 
                             Background="{DynamicResource InputBackgroundBrush}" 
                             Foreground="{DynamicResource InputForegroundBrush}"
                             FontSize="16"
                             Padding="8"
                             Width="250"
                             KeyDown="ConfirmPassword_KeyDown"/>
            </StackPanel>

            <StackPanel Grid.Row="2" Margin="0,10,0,0" Orientation="Horizontal" HorizontalAlignment="Right">
                <Button Content="Update" Margin="0,0,8,0" Style="{StaticResource RoundedButtonStyle}" Width="100" Click="Update_Click"/>
                <Button Content="Cancel" Style="{StaticResource RoundedButtonStyle}" Width="100" Command="{Binding OnCancelCommand}"/>
            </StackPanel>
        </Grid>

    </Border>

</Window>
